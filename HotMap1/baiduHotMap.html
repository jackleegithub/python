<!DOCTYPE html>
<html>
   <!--
      参考百度地图云平台 http://lbsyun.baidu.com/
   -->
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=hwL60GxvLIDUGbAyDElHCq9p9i0Z4TN3"></script>
    <script type="text/javascript" src="http://api.map.baidu.com/library/Heatmap/2.0/src/Heatmap_min.js"></script>
    <title>热力图功能示例</title>
    <style type="text/css">
		ul,li{list-style: none;margin:0;padding:0;float:left;}
		html{height:100%}
		body{height:100%;margin:0px;padding:0px;font-family:"微软雅黑";}
		#container{height:100vh;width:100%;}
		#r-result{width:100%;position: absolute; bottom: 0;}
    </style>	
</head>
<body>
	<div id="container"></div>
	<div id="r-result">
		<input type="button"  onclick="openHeatmap();" value="显示热力图"/><input type="button"  onclick="closeHeatmap();" value="关闭热力图"/>
	</div>
</body>
</html>
<script type="text/javascript">
    var map = new BMap.Map("container");          // 创建地图实例

    var point = new BMap.Point(116.418261, 39.921984);
    map.centerAndZoom(point, 6);             // 初始化地图，设置中心点坐标和地图级别
    map.enableScrollWheelZoom(); // 允许滚轮缩放
  
    var points =[
        {"lng":121.487899,"lat":31.249162,"count":24964.990000},
        {"lng":116.395645,"lat":39.929986,"count":22968.600000},
        {"lng":113.307650,"lat":23.120049,"count":18100.410000},
        {"lng":114.025974,"lat":22.546054,"count":17502.990000},
        {"lng":117.210813,"lat":39.143930,"count":16538.190000},
        {"lng":106.530635,"lat":29.544606,"count":15719.720000},
        {"lng":120.619907,"lat":31.317987,"count":14504.070000},
        {"lng":104.067923,"lat":30.679943,"count":10912.170000},
        {"lng":114.316200,"lat":30.581084,"count":10905.060000},
        {"lng":120.219375,"lat":30.259244,"count":10053.580000},
        {"lng":118.778074,"lat":32.057236,"count":9720.770000},
        {"lng":120.384428,"lat":36.105215,"count":9300.070000},
        {"lng":120.305456,"lat":31.570037,"count":8518.260000},
        {"lng":112.979353,"lat":28.213478,"count":8510.130000},
        {"lng":121.579006,"lat":29.885259,"count":8011.500000},
        {"lng":113.134026,"lat":23.035095,"count":8003.920000},
        {"lng":121.593478,"lat":38.948710,"count":7700.000000},
        {"lng":113.649644,"lat":34.756610,"count":7315.190000},
        {"lng":123.432791,"lat":41.808645,"count":7280.000000},
        {"lng":121.309555,"lat":37.536562,"count":6446.080000},
        {"lng":113.763434,"lat":23.043024,"count":6275.060000},
        {"lng":118.183451,"lat":39.650531,"count":6225.300000},
        {"lng":120.873801,"lat":32.014665,"count":6148.400000},
        {"lng":118.600362,"lat":24.901652,"count":6137.740000},
        {"lng":117.024967,"lat":36.682785,"count":6130.680000},
        {"lng":108.953098,"lat":34.277800,"count":5810.030000},
        {"lng":126.657717,"lat":45.773225,"count":5751.200000},
        {"lng":117.282699,"lat":31.866942,"count":5660.300000},
        {"lng":119.330221,"lat":26.047125,"count":5618.100000},
        {"lng":125.313642,"lat":43.898338,"count":5530.030000},
        {"lng":117.188107,"lat":34.271553,"count":5319.880000},
        {"lng":119.981861,"lat":31.771397,"count":5273.150000},
        {"lng":114.522082,"lat":38.048958,"count":5100.000000},
        {"lng":119.142634,"lat":36.716115,"count":5100.000000},
        {"lng":120.690635,"lat":28.002838,"count":4619.840000},
        {"lng":109.993706,"lat":39.816490,"count":4226.130000},
        {"lng":120.148872,"lat":33.379862,"count":4212.500000},
        {"lng":118.059134,"lat":36.804685,"count":4130.200000},
        {"lng":119.427778,"lat":32.408505,"count":4016.840000},
        {"lng":116.600798,"lat":35.402122,"count":4013.120000},
        {"lng":115.893528,"lat":28.689578,"count":4000.010000},
        {"lng":102.714601,"lat":25.049153,"count":3970.000000},
        {"lng":109.846239,"lat":40.647119,"count":3781.930000},
        {"lng":118.340768,"lat":35.072409,"count":3763.200000},
        {"lng":119.919606,"lat":32.476053,"count":3655.530000},
        {"lng":121.440613,"lat":28.668283,"count":3558.130000},
        {"lng":120.760428,"lat":30.773992,"count":3517.060000},
        {"lng":112.447525,"lat":34.657368,"count":3508.750000},
        {"lng":119.455835,"lat":32.204409,"count":3502.480000},
        {"lng":118.103886,"lat":24.489231,"count":3466.010000},
        {"lng":118.583926,"lat":37.487121,"count":3450.000000},
        {"lng":108.297234,"lat":22.806493,"count":3410.090000},
        {"lng":119.652576,"lat":29.102899,"count":3406.500000},
        {"lng":111.310981,"lat":30.732758,"count":3384.800000},
        {"lng":112.176326,"lat":32.094934,"count":3382.120000},
        {"lng":120.592467,"lat":30.002365,"count":3366.700000},
        {"lng":117.089415,"lat":36.188078,"count":3240.000000},
        {"lng":114.410658,"lat":23.113540,"count":3140.030000},
        {"lng":116.863806,"lat":38.297615,"count":3133.380000},
        {"lng":111.660351,"lat":40.828319,"count":3090.520000},
        {"lng":114.482694,"lat":36.609308,"count":3080.000000},
        {"lng":113.422060,"lat":22.545178,"count":3010.030000},
        {"lng":122.093958,"lat":37.528787,"count":3001.570000},
        {"lng":125.021840,"lat":46.596709,"count":2983.500000},
        {"lng":106.709177,"lat":26.629907,"count":2891.160000},
        {"lng":113.146196,"lat":29.378007,"count":2886.280000},
        {"lng":112.542842,"lat":33.011420,"count":2875.020000},
        {"lng":117.676205,"lat":24.517065,"count":2767.450000},
        {"lng":115.494810,"lat":38.886565,"count":2757.800000},
        {"lng":116.328161,"lat":37.460826,"count":2750.000000},
        {"lng":119.030186,"lat":33.606513,"count":2745.090000},
        {"lng":112.550864,"lat":37.890277,"count":2735.340000},
        {"lng":111.653718,"lat":29.012149,"count":2709.020000},
        {"lng":87.564988,"lat":43.840380,"count":2680.000000},
        {"lng":115.986869,"lat":36.455829,"count":2663.620000},
        {"lng":109.745926,"lat":38.279439,"count":2621.290000},
        {"lng":112.583819,"lat":26.898164,"count":2601.570000},
        {"lng":118.384108,"lat":31.366020,"count":2457.300000},
        {"lng":126.564544,"lat":43.871988,"count":2455.200000},
        {"lng":110.365067,"lat":21.257463,"count":2450.000000},
        {"lng":110.931245,"lat":21.668226,"count":2445.600000},
        {"lng":115.463360,"lat":35.262440,"count":2400.960000},
        {"lng":117.968292,"lat":37.405314,"count":2355.330000},
        {"lng":113.131695,"lat":27.827433,"count":2335.110000},
        {"lng":123.007763,"lat":41.118744,"count":2326.000000},
        {"lng":109.422402,"lat":24.329053,"count":2298.620000},
        {"lng":113.078125,"lat":22.575117,"count":2240.020000},
        {"lng":113.835312,"lat":34.026740,"count":2170.600000},
        {"lng":106.931260,"lat":27.699961,"count":2168.340000},
        {"lng":119.173872,"lat":34.601549,"count":2160.640000},
        {"lng":108.707509,"lat":34.345373,"count":2155.910000},
        {"lng":118.296893,"lat":33.952050,"count":2126.190000},
        {"lng":103.823305,"lat":36.064226,"count":2095.990000},
        {"lng":120.137243,"lat":30.877925,"count":2084.300000},
        {"lng":114.654102,"lat":33.623741,"count":2082.380000},
        {"lng":116.703602,"lat":39.518611,"count":2056.000000},
        {"lng":117.279305,"lat":34.807883,"count":2030.000000},
        {"lng":113.562447,"lat":22.256915,"count":2024.980000},
        {"lng":113.037704,"lat":25.782264,"count":2012.070000},
        {"lng":113.912690,"lat":35.307258,"count":1982.250000},
        {"lng":114.935909,"lat":25.845296,"count":1973.870000},
        {"lng":112.479653,"lat":23.078663,"count":1970.010000},
        {"lng":113.211836,"lat":35.234608,"count":1943.370000},
        {"lng":110.260920,"lat":25.262901,"count":1942.970000},
        {"lng":115.999848,"lat":29.719640,"count":1902.680000},
        {"lng":116.379501,"lat":23.547999,"count":1890.010000},
        {"lng":114.351807,"lat":36.110267,"count":1884.480000},
        {"lng":114.085491,"lat":32.128582,"count":1877.750000},
        {"lng":122.260363,"lat":43.633756,"count":1877.270000},
        {"lng":118.930761,"lat":42.297112,"count":1861.270000},
        {"lng":116.728650,"lat":23.383908,"count":1850.010000},
        {"lng":114.049154,"lat":32.983158,"count":1807.090000},
        {"lng":115.641886,"lat":34.438589,"count":1803.930000},
        {"lng":107.170645,"lat":34.364081,"count":1788.590000},
        {"lng":117.017997,"lat":25.078685,"count":1738.450000},
        {"lng":117.642194,"lat":26.270835,"count":1713.050000},
        {"lng":113.300849,"lat":33.745301,"count":1705.780000},
        {"lng":112.935556,"lat":27.835095,"count":1703.100000},
        {"lng":104.705519,"lat":31.504701,"count":1700.330000},
        {"lng":124.832995,"lat":45.136049,"count":1680.260000},
        {"lng":119.507180,"lat":35.420225,"count":1670.800000},
        {"lng":114.520487,"lat":37.069531,"count":1668.100000},
        {"lng":119.077731,"lat":25.448450,"count":1655.160000},
        {"lng":117.955464,"lat":28.457623,"count":1650.810000},
        {"lng":103.782539,"lat":25.520758,"count":1630.300000},
        {"lng":114.400039,"lat":27.811130,"count":1621.020000},
        {"lng":117.058739,"lat":30.537898,"count":1613.200000},
        {"lng":104.402398,"lat":31.131140,"count":1605.100000},
        {"lng":114.351642,"lat":34.801854,"count":1604.840000},
        {"lng":119.760822,"lat":49.201636,"count":1595.960000},
        {"lng":112.241866,"lat":30.332591,"count":1590.500000},
        {"lng":114.906618,"lat":30.446109,"count":1589.240000},
        {"lng":104.633019,"lat":28.769675,"count":1529.900000},
        {"lng":106.105554,"lat":30.800965,"count":1516.200000},
        {"lng":122.233391,"lat":40.668651,"count":1500.000000},
        {"lng":119.542082,"lat":26.656527,"count":1487.650000},
        {"lng":106.206479,"lat":38.502621,"count":1480.730000},
        {"lng":109.483933,"lat":34.502358,"count":1469.080000},
        {"lng":105.333323,"lat":27.408562,"count":1461.350000},
        {"lng":113.935734,"lat":30.927955,"count":1460.000000},
        {"lng":110.151676,"lat":22.643974,"count":1446.130000},
        {"lng":111.614648,"lat":26.435972,"count":1418.180000},
        {"lng":112.217330,"lat":31.042611,"count":1388.460000},
        {"lng":111.461525,"lat":27.236811,"count":1387.000000},
        {"lng":118.515882,"lat":31.688528,"count":1365.300000},
        {"lng":114.893782,"lat":40.811188,"count":1358.500000},
        {"lng":121.147749,"lat":41.130879,"count":1357.500000},
        {"lng":112.366547,"lat":28.588088,"count":1354.410000},
        {"lng":107.494973,"lat":31.214199,"count":1353.670000},
        {"lng":105.443970,"lat":28.895930,"count":1353.400000},
        {"lng":117.933822,"lat":40.992521,"count":1342.550000},
        {"lng":118.181883,"lat":26.643626,"count":1339.510000},
        {"lng":115.026627,"lat":35.753298,"count":1333.640000},
        {"lng":114.992039,"lat":27.113848,"count":1328.520000},
        {"lng":102.259591,"lat":27.892393,"count":1314.720000},
        {"lng":118.324570,"lat":32.317351,"count":1305.700000},
        {"lng":103.760824,"lat":29.600958,"count":1301.200000},
        {"lng":110.801229,"lat":32.636994,"count":1300.000000},
        {"lng":111.996396,"lat":27.741073,"count":1291.380000},
        {"lng":113.040773,"lat":23.698469,"count":1285.000000},
        {"lng":109.986959,"lat":27.557483,"count":1273.250000},
        {"lng":126.989095,"lat":46.646064,"count":1272.200000},
        {"lng":123.987289,"lat":47.347700,"count":1270.700000},
        {"lng":104.635930,"lat":30.132191,"count":1270.400000},
        {"lng":122.073228,"lat":41.141248,"count":1267.900000},
        {"lng":115.820932,"lat":32.901211,"count":1267.400000},
        {"lng":124.391382,"lat":43.175525,"count":1266.250000},
        {"lng":111.181262,"lat":34.783320,"count":1260.550000},
        {"lng":111.977010,"lat":21.871517,"count":1256.000000},
        {"lng":117.357080,"lat":32.929499,"count":1253.100000},
        {"lng":102.545068,"lat":24.370447,"count":1245.700000},
        {"lng":123.929820,"lat":41.877304,"count":1236.000000},
        {"lng":116.988692,"lat":33.636772,"count":1235.800000},
        {"lng":115.050683,"lat":30.216127,"count":1235.000000},
        {"lng":103.384065,"lat":23.367718,"count":1222.300000},
        {"lng":104.852087,"lat":26.591866,"count":1201.080000},
        {"lng":119.604368,"lat":39.945462,"count":1200.020000},
        {"lng":109.500510,"lat":36.603320,"count":1198.630000},
        {"lng":105.073056,"lat":29.599462,"count":1198.580000},
        {"lng":129.608035,"lat":44.588521,"count":1186.300000},
        {"lng":111.006854,"lat":35.038859,"count":1173.540000},
        {"lng":110.330802,"lat":20.022071,"count":1161.280000},
        {"lng":111.538788,"lat":36.099745,"count":1161.100000},
        {"lng":123.778062,"lat":41.325838,"count":1160.000000},
        {"lng":87.073618,"lat":44.175083,"count":1160.000000},
        {"lng":113.594461,"lat":24.802960,"count":1149.980000},
        {"lng":118.875842,"lat":28.956910,"count":1146.200000},
        {"lng":116.505253,"lat":31.755558,"count":1143.400000},
        {"lng":104.776071,"lat":29.359157,"count":1143.110000},
        {"lng":115.686229,"lat":37.746929,"count":1139.000000},
        {"lng":113.120292,"lat":36.201664,"count":1137.100000},
        {"lng":101.767921,"lat":36.640739,"count":1131.620000},
        {"lng":116.360919,"lat":27.954545,"count":1105.140000},
        {"lng":119.929576,"lat":28.456300,"count":1102.340000},
        {"lng":122.169872,"lat":30.036010,"count":1094.700000},
        {"lng":111.305472,"lat":23.485395,"count":1078.590000},
        {"lng":107.045478,"lat":33.081569,"count":1064.830000},
        {"lng":113.290509,"lat":40.113744,"count":1060.000000},
        {"lng":112.738514,"lat":37.693362,"count":1046.120000},
        {"lng":112.867333,"lat":35.499834,"count":1040.200000},
        {"lng":114.300061,"lat":29.880657,"count":1035.000000},
        {"lng":125.942650,"lat":41.736397,"count":1034.450000},
        {"lng":103.841430,"lat":30.061115,"count":1029.860000},
        {"lng":123.172451,"lat":41.273339,"count":1025.000000},
        {"lng":106.635720,"lat":30.463984,"count":1005.600000},
        {"lng":116.027340,"lat":43.939705,"count":1002.600000},
        {"lng":114.046061,"lat":33.576279,"count":992.850000},
        {"lng":124.338543,"lat":40.129023,"count":990.500000},
        {"lng":106.631821,"lat":23.901512,"count":980.350000},
        {"lng":118.752096,"lat":30.951642,"count":971.500000},
        {"lng":111.143157,"lat":37.527316,"count":955.800000},
        {"lng":116.126403,"lat":24.304571,"count":955.090000},
        {"lng":114.947117,"lat":27.822322,"count":946.800000},
        {"lng":108.638798,"lat":21.973350,"count":944.420000},
        {"lng":115.787928,"lat":33.871211,"count":942.600000},
        {"lng":101.722423,"lat":26.587571,"count":925.180000},
        {"lng":105.564888,"lat":30.557491,"count":915.810000},
        {"lng":113.112846,"lat":41.022363,"count":913.770000},
        {"lng":113.859917,"lat":27.639544,"count":912.390000},
        {"lng":116.630076,"lat":23.661812,"count":910.100000},
        {"lng":112.479928,"lat":39.337672,"count":910.000000},
        {"lng":107.523205,"lat":26.264536,"count":902.910000},
        {"lng":100.219209,"lat":25.693967,"count":901.100000},
        {"lng":109.122628,"lat":21.472718,"count":892.100000},
        {"lng":107.423807,"lat":40.769180,"count":887.430000},
        {"lng":129.485902,"lat":42.896414,"count":886.060000},
        {"lng":109.613708,"lat":23.103373,"count":865.200000},
        {"lng":107.985353,"lat":26.583992,"count":811.550000},
        {"lng":130.284735,"lat":46.813780,"count":810.100000},
        {"lng":114.713721,"lat":23.757251,"count":810.080000},
        {"lng":104.900558,"lat":25.095148,"count":801.650000},
        {"lng":113.379358,"lat":31.717858,"count":785.000000},
        {"lng":120.446163,"lat":41.571828,"count":780.000000},
        {"lng":115.372924,"lat":22.778731,"count":780.000000},
        {"lng":76.014343,"lat":39.513111,"count":780.000000},
        {"lng":109.038045,"lat":32.704370,"count":772.460000},
        {"lng":117.186523,"lat":29.303563,"count":772.060000},
        {"lng":109.168558,"lat":27.674903,"count":770.890000},
        {"lng":117.018639,"lat":32.642812,"count":770.600000},
        {"lng":101.328638,"lat":24.880252,"count":763.000000},
        {"lng":116.791447,"lat":33.960023,"count":760.400000},
        {"lng":117.684667,"lat":36.233654,"count":755.000000},
        {"lng":125.133686,"lat":42.923303,"count":750.060000},
        {"lng":123.854850,"lat":42.299757,"count":745.000000},
        {"lng":114.895594,"lat":30.384439,"count":730.000000},
        {"lng":117.819429,"lat":30.940930,"count":721.300000},
        {"lng":120.860758,"lat":40.743030,"count":720.000000},
        {"lng":122.840777,"lat":45.621086,"count":715.420000},
        {"lng":114.297770,"lat":35.755426,"count":713.230000},
        {"lng":112.050946,"lat":22.937976,"count":710.070000},
        {"lng":103.725021,"lat":27.340633,"count":709.200000},
        {"lng":126.435798,"lat":41.945859,"count":690.150000},
        {"lng":107.357322,"lat":22.415455,"count":682.820000},
        {"lng":112.727939,"lat":38.461031,"count":680.000000},
        {"lng":104.030940,"lat":23.416010,"count":670.800000},
        {"lng":84.881180,"lat":45.594331,"count":670.100000},
        {"lng":109.517433,"lat":30.308979,"count":670.000000},
        {"lng":117.035450,"lat":28.241310,"count":639.260000},
        {"lng":105.928270,"lat":26.228595,"count":625.410000},
        {"lng":109.934208,"lat":33.873907,"count":621.830000},
        {"lng":108.351791,"lat":21.617398,"count":620.720000},
        {"lng":108.069948,"lat":24.699521,"count":618.030000},
        {"lng":81.156013,"lat":40.349444,"count":610.000000},
        {"lng":106.831999,"lat":39.683177,"count":609.820000},
        {"lng":107.644227,"lat":35.726801,"count":609.430000},
        {"lng":105.819687,"lat":32.441040,"count":605.430000},
        {"lng":113.569238,"lat":37.869529,"count":598.850000},
        {"lng":113.387448,"lat":30.293966,"count":590.000000},
        {"lng":105.736932,"lat":34.584319,"count":560.080000},
        {"lng":98.508415,"lat":39.741474,"count":560.000000},
        {"lng":112.768768,"lat":30.343116,"count":560.000000},
        {"lng":109.231817,"lat":23.741166,"count":557.700000},
        {"lng":99.177996,"lat":25.120489,"count":552.000000},
        {"lng":118.293570,"lat":29.734435,"count":544.700000},
        {"lng":104.171241,"lat":36.546682,"count":540.000000},
        {"lng":117.494477,"lat":30.660019,"count":530.600000},
        {"lng":121.660822,"lat":42.019250,"count":530.000000},
        {"lng":103.009356,"lat":29.999716,"count":517.720000},
        {"lng":130.941767,"lat":45.321540,"count":514.700000},
        {"lng":100.980058,"lat":22.788778,"count":514.400000},
        {"lng":122.048167,"lat":46.083757,"count":502.310000},
        {"lng":100.092613,"lat":23.887806,"count":502.100000},
        {"lng":83.190128,"lat":46.811367,"count":502.030000},
        {"lng":106.757916,"lat":31.869189,"count":501.340000},
        {"lng":109.745746,"lat":28.317951,"count":497.190000},
        {"lng":112.403830,"lat":35.093893,"count":494.410000},
        {"lng":106.379337,"lat":39.020223,"count":482.400000},
        {"lng":111.552594,"lat":24.411054,"count":468.110000},
        {"lng":127.500830,"lat":50.250690,"count":447.800000},
        {"lng":110.481620,"lat":29.124889,"count":447.700000},
        {"lng":109.334586,"lat":19.574788,"count":442.030000},
        {"lng":113.126230,"lat":30.649047,"count":440.000000},
        {"lng":97.342625,"lat":37.373799,"count":439.850000},
        {"lng":109.522771,"lat":18.257776,"count":435.020000},
        {"lng":131.171402,"lat":46.655102,"count":433.300000},
        {"lng":102.640147,"lat":37.933172,"count":416.200000},
        {"lng":106.208254,"lat":37.993561,"count":403.900000},
        {"lng":91.111891,"lat":29.662557,"count":389.460000},
        {"lng":102.376689,"lat":36.312743,"count":384.400000},
        {"lng":100.459892,"lat":38.939320,"count":373.530000},
        {"lng":106.688911,"lat":35.550110,"count":356.000000},
        {"lng":93.529373,"lat":42.344467,"count":343.100000},
        {"lng":100.803038,"lat":22.009433,"count":335.900000},
        {"lng":108.968067,"lat":34.908368,"count":324.540000},
        {"lng":105.695683,"lat":38.843075,"count":322.580000},
        {"lng":105.196754,"lat":37.521124,"count":316.600000},
        {"lng":104.934573,"lat":33.394480,"count":310.000000},
        {"lng":104.626638,"lat":35.586056,"count":304.920000},
        {"lng":98.589434,"lat":24.441240,"count":292.300000},
        {"lng":100.229628,"lat":26.875351,"count":290.000000},
        {"lng":82.068139,"lat":44.901268,"count":290.000000},
        {"lng":102.228565,"lat":31.905763,"count":271.130000},
        {"lng":130.292472,"lat":47.338666,"count":266.000000},
        {"lng":89.266025,"lat":42.678925,"count":250.150000},
        {"lng":128.910766,"lat":47.734685,"count":248.200000},
        {"lng":79.915814,"lat":37.153350,"count":233.860000},
        {"lng":87.926214,"lat":47.890136,"count":231.800000},
        {"lng":102.208126,"lat":38.516072,"count":224.500000},
        {"lng":103.200576,"lat":35.585835,"count":220.000000},
        {"lng":101.969232,"lat":30.055144,"count":217.570000},
        {"lng":106.285268,"lat":36.021523,"count":217.000000},
        {"lng":131.019048,"lat":45.775005,"count":212.700000},
        {"lng":98.281635,"lat":39.802397,"count":195.000000},
        {"lng":88.956063,"lat":29.268160,"count":168.000000},
        {"lng":99.713682,"lat":27.831029,"count":161.100000},
        {"lng":106.925397,"lat":39.296209,"count":140.200000},
        {"lng":96.362440,"lat":30.510925,"count":136.000000},
        {"lng":124.196104,"lat":51.991789,"count":134.900000},
        {"lng":102.917442,"lat":34.992211,"count":126.540000},
        {"lng":92.220873,"lat":28.354982,"count":115.000000},
        {"lng":98.859932,"lat":25.860677,"count":113.000000},
        {"lng":95.466234,"lat":29.128080,"count":105.000000},
        {"lng":76.137564,"lat":39.750346,"count":101.500000},
        {"lng":92.067018,"lat":31.480680,"count":95.900000},
        {"lng":100.879802,"lat":36.960654,"count":94.860000},
        {"lng":102.021832,"lat":35.522503,"count":72.750000},
        {"lng":96.712350,"lat":32.906575,"count":60.550000},
        {"lng":81.107669,"lat":30.404557,"count":37.400000},
        {"lng":100.223723,"lat":34.480485,"count":35.660000},
        {"lng":110.578903,"lat":31.340951,"count":22.500000}
    ];
   
    if(!isSupportCanvas()){
    	alert('热力图目前只支持有canvas支持的浏览器,您所使用的浏览器不能使用热力图功能~')
    }
	//详细的参数,可以查看heatmap.js的文档 https://github.com/pa7/heatmap.js/blob/master/README.md
	//参数说明如下:
	/* visible 热力图是否显示,默认为true
     * opacity 热力的透明度,1-100
     * radius 势力图的每个点的半径大小   
     * gradient  {JSON} 热力图的渐变区间 . gradient如下所示
     *	{
			.2:'rgb(0, 255, 255)',
			.5:'rgb(0, 110, 255)',
			.8:'rgb(100, 0, 255)'
		}
		其中 key 表示插值的位置, 0~1. 
		    value 为颜色值. 
     */
	heatmapOverlay = new BMapLib.HeatmapOverlay({"radius":20});
	map.addOverlay(heatmapOverlay);
	heatmapOverlay.setDataSet({data:points,max:100});
	//是否显示热力图
    function openHeatmap(){
        heatmapOverlay.show();
    }
	function closeHeatmap(){
        heatmapOverlay.hide();
    }
	closeHeatmap();
    function setGradient(){
     	/*格式如下所示:
		{
	  		0:'rgb(102, 255, 0)',
	 	 	.5:'rgb(255, 170, 0)',
		  	1:'rgb(255, 0, 0)'
		}*/
     	var gradient = {};
     	var colors = document.querySelectorAll("input[type='color']");
     	colors = [].slice.call(colors,0);
     	colors.forEach(function(ele){
			gradient[ele.getAttribute("data-key")] = ele.value; 
     	});
        heatmapOverlay.setOptions({"gradient":gradient});
    }
	//判断浏览区是否支持canvas
    function isSupportCanvas(){
        var elem = document.createElement('canvas');
        return !!(elem.getContext && elem.getContext('2d'));
    }
</script>